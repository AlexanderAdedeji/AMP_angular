<div class="card animate__animated animate__fadeIn" >
  <div class="card-header">
    <div class="card-title">
      <h4 class="card-title">{{AgentName}}'s Devices</h4>
      <button type="submit"  class="btn btn-success btn-round" (click)="CreateDevice()" >
        Create Device
      </button>
    </div>

  </div>
  <div class="card-body">
      <div class="">
        <table class="table text-center">
          <thead class=" text-primary">
            <th>
             
             S/N
            </th>
            <th>
             Name
            </th>
            <!-- <th>
             Agent
            </th> -->
            <th>
             Active
            </th>
            <th>
                No of Users
            </th>
            <th>
                Action
            </th>
            
          </thead>
          
            <tbody >  
              <tr *ngFor='let device of AgentDevices;
               let i=index;'
               >
                <td> 
                {{i+1}}
                </td>
                <td>
                  {{device.name}}
                </td>
                <td *ngIf="device.is_active">
                  Yes
                </td>
                <td *ngIf="!device.is_active">
                  No
                </td>
                <td >
                  {{ device.assigned_users.length}}
               
                </td>
                <td class="">
                  <ul class="navbar-nav">
                 
                    <li class="nav-item btn-rotate" ngbDropdown placement="top-left">
                        <a class="nav-link" ngbDropdownToggle id="navbarDropdownMenuLink" >
                          <i class="nc-icon nc-bell-55"></i>
                        </a>
                        <div ngbDropdownMenu aria-labelledby="navbarDropdownMenuLink" class="dropdown-menu dropdown-menu-down">
                          <a ngbDropdownItem (click)="updateDevice(device.id)">Update</a>
                          <a ngbDropdownItem *ngIf='!device.is_active' (click)="activateDevice(device.id)">Activate</a>
                          <a ngbDropdownItem *ngIf='device.is_active' (click)="deactivateDevice(device.id)">Deactivate</a>
                          <a ngbDropdownItem *ngIf='device.is_active'  (click)="checkUser(device, 'a')">Assign User</a>
                          <a ngbDropdownItem *ngIf='device.is_active'  (click)="checkUser(device, d)">Unassign User</a>
                        </div>
                      </li>
                   </ul>
                </td>
              </tr>
         
          
            </tbody>
       
        
          
        </table>
      </div>
    </div>
</div>
